# This prototype is for Elemedals, which builds off 
#  Frogatto's hittable prototype.
#
# This prototype handles all of the statuses, dmg
#  types, and effects that appear in the game.

# Add this line to objects calling this one.
#  fire_event('reb')

{
id: "elem_hittable",
prototype: ["hittable"],

properties: {
	
},

# ----- PROCESS ----- #
on_reb: "
	if (cycle%10 = 0, [
	
		// Handle Piercing
		add(hitpoints, - delta_x * me.pierce_time / me.pierce_interval)
			where delta_x = abs(me.midpoint_x - me.old_midpoint_x),
		set(old_midpoint_x, me.midpoint_x),
		if(pierce_time > 0, add(me.pierce_time, -1)),
		
		// Handle Shadow
		if(shadow_time > 0, add(me.shadow_time, -1)),
	
		// Handle Mist Energy
		if(energy < me.max_energy, add(me.energy, 1)),
	])
",

}
