# This prototype is for Elemedals, which builds off 
#  Frogatto's hittable prototype.
#
# This prototype handles all of the statuses, damage
#  types, and effects that appear in the game.

{
id: "elem_hittable",
prototype: ["hittable"],

properties: {
# ----- DAMAGE TYPES ----- #
	shadow_damage: { type: "int", default: 0 },
	pierce_damage: { type: "int", default: 0 },
	elemental_damage: { type: "int", default: 0 },

# ----- HEALING ----- #
# When an object is healed, it cannot be healed above (max_hitpoints - shadow_damage)
	heal: "def(int heal_amount) -> commands
		if(hitpoints + heal_amount >= max_hitpoints - shadow_damage,
			set(hitpoints, max_hitpoints - shadow_damage),
			if(hitpoints + heal_amount >= max_hitpoints,
				set(hitpoints, max_hitpoints),
				set(hitpoints, hitpoints + heal_amount)
			)
		)",
}}
