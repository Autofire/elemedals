# Shankle
# Invincible Goomba-clone
# TODO: (This only includes things which may not be obvious)
# It only picks up a cliff at the right. Fix it

{
#GLOBAL VALUES#

id: "shankle",
editor_info: { category: "Hazards" },
solid_dimensions: ["common","enemy"],
hitpoints: 200,
max_hitpoints: 200,
traction: 1000,
friction: 1000,
timer_frequency: 2,

properties: {
	team: "'evil'",
	distance_to_cliff_check: "max(30, velocity_x/7)",
	should_turn_away_from_cliff: "(distance_to_cliff < distance_to_cliff_check)",
	turn_around: "def() if((should_turn_away_from_cliff), animation('stand'))",
},

#ANIMATION HANDLES#
on_create: "set(movement,if(1d2 = 1, -300, 300))",
on_timer: "turn_around()",
on_collide_side: "animation('stand')",
on_end_stand_anim: "[animation('walk'), set(movement, -movement)]",
on_end_walk_anim: "[animation('walk'), set(velocity_x,movement)]",

#ANIMATIONS#
animation: [
	{
		frames_per_row: 1,

		id: "walk",
		body_area: "all",
		image: "hazard/shankle.png",
		rect: [3,2,38,15],
		solid_area: [5,3,30,12],
		pad: 3,
		frames: 4,
		duration: 3,
		accel_x: 0,
		accel_y: 100
	},
	
	{
		frames_per_row: 1,

		id: "stand",
		body_area: "all",
		image: "hazard/shankle.png",
		rect: [3,2,38,15],
		solid_area: [5,3,30,12],
		pad: 3,
		frames: 4,
		duration: 3,
		accel_x: 0,
		accel_y: 100
	},
]
}
