# Shankle
# Invincible Goomba-clone
# TODO: (This only includes things which may not be obvious)
# It only picks up a cliff at the right. Fix it
# Make the animation not look so...ugly?

{
#GLOBAL VALUES#

id: "shankle",
editor_info: { category: "Hazards" },
solid_dimensions: ["common","enemy"],
hitpoints: 200,
max_hitpoints: 200,
traction: 1000,
friction: 1000,

properties: {
	team: "'evil'",
	attack_damage: 1,
	distance_to_cliff_check: "max(30, velocity_x/7)",
	should_turn_away_from_cliff: "(distance_to_cliff < distance_to_cliff_check)",
	turn_around_check: "def() if((should_turn_away_from_cliff), [animation('stand'), set(facing, -facing)])",
},

#ANIMATION HANDLES#
on_process: "turn_around_check()",
on_collide_side: "[animation('stand'), set(facing, -facing)]",
on_end_stand_anim: "animation('walk')",
on_end_walk_anim: "animation('walk')",

#ANIMATIONS#
animation: [
	{
		frames_per_row: 1,

		id: "walk",
		body_area: "all",
		image: "hazard/shankle.png",
		rect: [3,2,38,15],
		solid_area: [5,3,30,12],
		pad: 3,
		frames: 3,
		reverse: true,
		duration: 3,
		accel_x: 0,
		accel_y: 100,
		velocity_x: 300,
		attack_area: [3,1,32,13]
	},
	
	{
		frames_per_row: 1,

		id: "stand",
		body_area: "all",
		image: "hazard/shankle.png",
		rect: [3,2,38,15],
		solid_area: [5,3,30,12],
		pad: 3,
		frames: 4,
		duration: 4,
		accel_x: 0,
		accel_y: 100,
		attack_area: [3,1,32,13]
	},
]
}
