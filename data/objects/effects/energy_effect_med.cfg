# energy_effect_med

{
id: "energy_effect_med",
editor_info: { category: "Misc" },

properties: {
	cINIT_SIZE:   "0.8",	// Initial scale of icon (percent)
	cINIT_ALPHA:  "225",	// Initial alpha of icon
	cGROWTH_RATE: "0.015",  // Increase in scale percet per cycle
	cDECAY_RATE:  "10",	 // Decrease in alpha per cycle (from 255)
},

on_create: "[animation('swirl'), set(alpha, 150)]",

on_end_swirl_anim: "[
	schedule(10, animation('icon')),
	set(scale, cINIT_SIZE),
	set(alpha, cINIT_ALPHA)
]",

on_end_icon_anim: "
	if(alpha != 0,
		[   add(scale, cGROWTH_RATE),
			add(alpha, -cDECAY_RATE)
		],
		die()
	)
",

animation: [
	{
		id:    "swirl",
		image: "effects/energy.png",
		
		rect: [2,41,38,75],
		pad:  3,
		
		duration:       3,
		frames:         8,
		frames_per_row: 4,
	},
	
	{
		id:    "icon",
		image: "effects/energy.png",
		
		rect: [2,2,36,36],
		pad:  3,
		
		duration: 1,
		frames:   1,
	}
]
}
